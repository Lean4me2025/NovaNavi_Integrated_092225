<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Discover Traits | Nova</title>
<link rel="stylesheet" href="/assets/styles.css"/>
<script>window.NOVA={};</script>
</head><body>
<nav class="nav">
  <a class="navlink " href="/index.html">Home</a>
  <a class="navlink active" href="/traits.html">Discover (NOVA)</a>
  <a class="navlink " href="/snapshot.html">My Snapshot</a>
  <a class="navlink " href="/reflection.html">Reflect</a>
  <a class="navlink " href="/offers.html">Plans</a>
</nav>
<div class="container">
<section class="card">
  <h2 style="margin-top:0">Select your traits</h2>
  <div id="traits" class="traits"></div>
  <div class="footer-cta" style="display:flex;justify-content:space-between;gap:10px;margin-top:16px">
    <a class="btn" href="/index.html">Back</a>
    <div>
      <button class="btn" id="clear-traits" type="button">Clear selections</button>
      <a class="btn btn-primary" id="go-results">See My Results</a>
    </div>
  </div>
</section>
<script>
const url = new URL(window.location.href);
const shouldReset = url.searchParams.get('reset')==='1';
if(shouldReset){ localStorage.removeItem('nova_traits'); }
fetch('/data/traits.json').then(r=>r.json()).then(list=>{
  const wrap = document.getElementById('traits');
  const selected = new Set(JSON.parse(localStorage.getItem('nova_traits')||'[]'));
  list.forEach(name=>{
    const el = document.createElement('div');
    el.className='trait';
    el.textContent=name;
    if(selected.has(name)) el.classList.add('is-selected');
    el.addEventListener('click',()=>{
      if(el.classList.toggle('is-selected')) selected.add(name);
      else selected.delete(name);
    });
    wrap.appendChild(el);
  });
  document.getElementById('clear-traits').addEventListener('click',()=>{
    localStorage.removeItem('nova_traits');
    selected.clear();
    document.querySelectorAll('.trait.is-selected').forEach(el=>el.classList.remove('is-selected'));
  });
  document.getElementById('go-results').addEventListener('click',()=>{
    localStorage.setItem('nova_traits', JSON.stringify([...selected]));
    location.href='/results.html';
  });
});
</script>
</div></body></html>