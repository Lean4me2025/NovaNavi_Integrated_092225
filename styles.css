/* Core layout */
:root {
  --bg: #0b0f19;
  --fg: #e9eef9;
  --muted: #a9b3c7;
  --card: rgba(255,255,255,.06);
  --line: rgba(255,255,255,.12);
  --accent: #58a6ff;
  --accent-2: #7ee787;
  --danger: #ff7b72;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; background: var(--bg); color: var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;
  -webkit-font-smoothing: antialiased; line-height: 1.45;
}
.wrap { max-width: 980px; margin: 0 auto; padding: 2rem 1.2rem; }
h1, h2, h3 { margin: 0 0 .6rem; }
p { margin: 0 0 1rem; color: var(--muted); }
.sub { color: var(--muted); }

/* Breadcrumb (hidden by default) */
.hidden { display: none !important; }
#breadcrumb { margin: .6rem auto 0; max-width: 980px; font-size: .95rem; }
#breadcrumb ul { display: flex; flex-wrap: wrap; gap: .5rem .75rem; padding: 0 1.2rem; margin: 0; list-style: none; }
#breadcrumb li { opacity: .6; position: relative; padding-right: .8rem; cursor: default; }
#breadcrumb li::after { content: "â€º"; position: absolute; right: .2rem; opacity: .4; }
#breadcrumb li:last-child::after { content: ""; }
#breadcrumb li.active { font-weight: 700; opacity: 1; }
#breadcrumb li.active::after { opacity: .7; }

/* Screens */
.screen { display: none; }
.screen.active { display: block; }

/* Welcome */
#welcome h1 { font-size: clamp(1.8rem, 3vw, 2.6rem); margin: 0 0 .25rem; }
#welcome .tag { opacity: .9; margin: 0 0 1.25rem; }
#welcome .stat {
  background: var(--card); border: 1px solid var(--line);
  padding: .9rem 1rem; border-radius: .75rem; margin-bottom: 1.5rem;
}
#welcome .stat strong { font-size: 1.25rem; margin-right: .35rem; }
#welcome .flow { counter-reset: step; list-style: none; padding: 0; margin: 0 0 1.5rem; }
#welcome .flow li { position: relative; padding-left: 2.25rem; margin: .65rem 0; line-height: 1.35; }
#welcome .flow li::before {
  counter-increment: step; content: counter(step);
  position: absolute; left: 0; top: .1rem;
  width: 1.6rem; height: 1.6rem; display: grid; place-items: center;
  border: 1px solid var(--line); border-radius: .4rem;
  font-weight: 600; font-size: .95rem;
}

/* Buttons */
.btn-primary, .btn-secondary, .btn-link, .btn-disabled {
  border: 0; padding: .85rem 1rem; border-radius: .6rem; font-weight: 700; cursor: pointer;
}
.btn-primary { background: var(--accent); color: #071424; }
.btn-secondary { background: #222b3d; color: var(--fg); border: 1px solid var(--line); }
.btn-link { background: transparent; color: var(--accent-2); text-decoration: underline; padding: .2rem .3rem; }
.btn-disabled { background: #3a4153; color: #98a1b3; cursor: not-allowed; }
.cta { margin-top: 1rem; }
.cta-row { display: flex; gap: .8rem; margin-top: 1rem; flex-wrap: wrap; }

/* Grid */
.grid { display: grid; gap: .6rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
.grid-traits { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
.grid-reflection { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }

.card, .cell {
  background: var(--card); border: 1px solid var(--line); border-radius: .75rem;
}

.cell { padding: .9rem 1rem; }
.cell h4 { margin: 0 0 .25rem; }
.cell.small { padding: .65rem .8rem; }

.cell.selectable { cursor: pointer; transition: transform .06s ease; }
.cell.selectable:hover { transform: translateY(-1px); }
.cell.selectable.active {
  outline: 2px solid var(--accent-2);
  box-shadow: 0 0 0 4px rgba(126,231,135,.12) inset;
  background: rgba(126,231,135,.08);
}

/* Traits */
.trait-legend { display: flex; align-items: center; gap: .6rem; margin-top: .6rem; color: var(--muted); }
.pill { display: inline-block; padding: .2rem .5rem; border-radius: 999px; background: rgba(126,231,135,.15); border: 1px solid rgba(126,231,135,.35); }

/* Results */
#resultsSummary { padding: 1rem; }

/* Plans */
.plans { display: grid; gap: .8rem; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
.plan { padding: 1rem; }
.plan h3 { margin-bottom: .35rem; }

/* NAVI */
.navi-list { margin: .4rem 0 1rem 1rem; }
